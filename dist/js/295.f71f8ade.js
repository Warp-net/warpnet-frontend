"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[295,520],{1295:function(e,o,r){r.r(o),r.d(o,{default:function(){return x}});var l=r(641);const t={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function n(e,o,r,n,s,i){const a=(0,l.g2)("SearchBar"),u=(0,l.g2)("WhoToFollow");return(0,l.uX)(),(0,l.CE)("div",t,[(0,l.bF)(a),(0,l.bF)(u,{currentProfile:r.profile},null,8,["currentProfile"])])}var s=r(7520),i=r(33);const a={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],d={class:"hidden lg:block ml-4"},f=["onClick"],c={class:"text-left text-sm leading-tight text-dark"},h=["onClick"],p=["onClick"];function w(e,o,r,t,n,s){return(0,l.uX)(),(0,l.CE)("div",a,[o[1]||(o[1]=(0,l.Lk)("div",{class:"p-3"},[(0,l.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),r.currentProfile?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(n.profiles,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,l.Lk)("img",{onClick:o=>s.pushToProfilePage(e.id),src:s.getAvatar(e.id,e.avatar_key)||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:e.username},null,8,u),(0,l.Lk)("div",d,[(0,l.Lk)("p",{onClick:o=>s.pushToProfilePage(e.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,i.v_)(e.username),9,f),(0,l.Lk)("p",c,(0,i.v_)(e.id.slice(0,8))+"...",1)]),s.isFollowed(e.id)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:o=>s.follow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)),s.isFollowed(e.id)?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:o=>s.unfollow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Unfollow ",8,p)):(0,l.Q3)("",!0)])))),128)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:o[0]||(o[0]=e=>s.loadMore()),class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ")])}r(4114);var b=r(7362),g={name:"WhoToFollow",props:{currentProfile:Object},data(){return{userProfile:void 0,profiles:[],profilesAvatars:new Map}},methods:{async pushToProfilePage(e){this.$router.push({name:"Profile",params:{id:e}})},isFollowed(e){return b.nf.isFollowed(e)},async follow(e){await b.nf.followUser(e)},async unfollow(e){await b.nf.unfollowUser(e)},getAvatar(e,o){return this.loadAvatar(e,o),this.profilesAvatars.get(e)},async loadAvatar(e,o){const r=await b.nf.getImage({userId:e,key:o});this.profilesAvatars.set(e,r)},async loadMore(){const e=await b.nf.getWhoToFollow(this.currentProfile.id,!1);this.profiles=[...this.profiles,...e]}},async created(){console.log("loading component:",this.$options.name),console.log("currentProfile:",this.currentProfile),this.userProfile=b.nf.getOwnerProfile(),this.currentProfile||(this.currentProfile=this.userProfile),this.profiles=await b.nf.getWhoToFollow(this.currentProfile.id,!0)}},m=r(6262);const k=(0,m.A)(g,[["render",w]]);var v=k,y={name:"DefaultRightBar",props:{profile:Object},components:{SearchBar:s["default"],WhoToFollow:v}};const P=(0,m.A)(y,[["render",n]]);var x=P},7520:function(e,o,r){r.r(o),r.d(o,{default:function(){return u}});var l=r(641),t=r(3751);function n(e,o,r,n,s,i){return(0,l.uX)(),(0,l.CE)("div",null,[o[2]||(o[2]=(0,l.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed"},null,-1)),(0,l.bo)((0,l.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":o[0]||(o[0]=e=>s.query=e),onKeyup:o[1]||(o[1]=(0,t.jR)((e=>i.submit()),["enter"]))},null,544),[[t.Jo,s.query]])])}r(4114);var s={name:"SearchBar",data(){return{query:"Doesn't work for now"}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},i=r(6262);const a=(0,i.A)(s,[["render",n]]);var u=a}}]);
//# sourceMappingURL=295.f71f8ade.js.map