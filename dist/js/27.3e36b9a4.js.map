{"version":3,"file":"js/27.3e36b9a4.js","mappings":"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","sources":["webpack://warpnet-frontend/./src/components/DefaultRightBar.vue","webpack://warpnet-frontend/./src/components/WhoToFollow.vue","webpack://warpnet-frontend/./src/components/WhoToFollow.vue?12f1","webpack://warpnet-frontend/./src/components/DefaultRightBar.vue?9b26","webpack://warpnet-frontend/./src/components/SearchBar.vue","webpack://warpnet-frontend/./src/components/SearchBar.vue?fbac"],"sourcesContent":["<!-- License generated by licensor(https://github.com/Marvin9/licensor).\n\nWarpnet - Decentralized Social Network\nCopyright (C) 2025 Vadim Filin, https://github.com/Warp-net,\n<github.com.mecdy@passmail.net>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nWarpNet is provided “as is” without warranty of any kind, either expressed or implied.\nUse at your own risk. The maintainers shall not be liable for any damages or data loss\nresulting from the use or misuse of this software.\n-->\n<template>\n   <div class=\"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max\">\n      <SearchBar />\n      <WhoToFollow\n          :profile=\"profile\"\n      />\n    </div>\n</template>\n<script>\nimport SearchBar from './SearchBar.vue';\nimport WhoToFollow from './WhoToFollow.vue';\nexport default {\n  name: 'DefaultRightBar',\n  props: {\n    profile: Object,\n  },\n  components: {\n    SearchBar,\n    WhoToFollow,\n  },\n};\n</script>","<!-- License generated by licensor(https://github.com/Marvin9/licensor).\n\nWarpnet - Decentralized Social Network\nCopyright (C) 2025 Vadim Filin, https://github.com/Warp-net,\n<github.com.mecdy@passmail.net>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nWarpNet is provided “as is” without warranty of any kind, either expressed or implied.\nUse at your own risk. The maintainers shall not be liable for any damages or data loss\nresulting from the use or misuse of this software.\n-->\n<template>\n  <div class=\"w-full rounded-lg bg-lightest my-4\">\n    <div class=\"p-3\">\n      <p class=\"text-lg font-bold\">Who to follow</p>\n    </div>\n    <div v-if=\"profile\" v-for=\"profile in profiles\" :key=\"profile.id\" class=\"w-full flex hover:bg-lighter p-3 border-t border-lighter\">\n      <img \n        @click=\"pushToProfilePage(profile.id)\" \n        :src=\"getAvatar(profile.id, profile.avatar_key) || '/default_profile.png'\"\n        class=\"w-12 h-12 rounded-full cursor-pointer\"  \n        :alt=\"profile.username\"\n      />\n      <div class=\"hidden lg:block ml-4\">\n        <p @click=\"pushToProfilePage(profile.id)\" class=\"text-left text-sm font-bold leading-tight cursor-pointer\">{{ profile.username }}</p>\n        <p class=\"text-left text-sm leading-tight text-dark\">{{ profile.id.slice(0, 8) }}...</p>\n      </div>\n      <button\n        v-if=\"!isFollowing(profile.id)\"\n        @click=\"follow(profile.id)\" \n        class=\"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2\"\n      >\n        Follow\n      </button>\n      <button\n          v-if=\"isFollowing(profile.id)\"\n          @click=\"unfollow(profile.id)\"\n          class=\"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2\"\n      >\n        Unfollow\n      </button>\n    </div>\n    <button\n        @click=\"loadMore()\"\n        class=\"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter\"\n    >\n      Show More\n    </button>\n  </div>\n</template>\n\n<script>\nimport {warpnetService} from \"@/service/service\";\n\nexport default {\n  name: 'WhoToFollow',\n  props: [\"profile\"],\n  data() {\n    return {\n      ownerProfile: undefined,\n      profiles: [],\n      profilesAvatars: new Map(),\n      followingStatus: new Map(),\n    };\n  },\n  methods: {\n    async pushToProfilePage(profileId) {\n      this.$router.push({ \n        name: \"Profile\",\n        params: {\n          id: profileId\n        }\n      });\n    },\n    isFollowing(profileId) {\n      return this.followingStatus.get(profileId) || false\n    },\n    async follow(profileId) {\n      await warpnetService.followUser(profileId);\n      this.followingStatus.set(profileId, true)\n    },\n    async unfollow(profileId) {\n      await warpnetService.unfollowUser(profileId);\n      this.followingStatus.set(profileId, false)\n    },\n    getAvatar(userId, avatarKey) {\n      this.loadAvatar(userId, avatarKey)\n      return this.profilesAvatars.get(userId)\n    },\n    async loadAvatar(userId, avatarKey) {\n      const img  = await warpnetService.getImage({userId:userId, key:avatarKey})\n      this.profilesAvatars.set(userId, img)\n    },\n    async loadMore() {\n      const users = await warpnetService.getWhoToFollow(this.profile.id,false)\n      for (const p of users) {\n        const status = await warpnetService.isFollowing(p.id);\n        this.followingStatus.set(p.id, status);\n      }\n      this.profiles = [...this.profiles, ...users];\n\n    },\n   },\n  async created() {\n    console.log(\"loading component:\", this.$options.name);\n    console.log(\"profile:\", this.profile);\n    this.ownerProfile = warpnetService.getOwnerProfile();\n    if (!this.profile) {\n      this.profile = this.ownerProfile;\n    }\n    this.profiles = await warpnetService.getWhoToFollow(this.profile.id, true)\n    for (const p of this.profiles) {\n      const status = await warpnetService.isFollowing(p.id);\n      this.followingStatus.set(p.id, status);\n    }\n  },\n};\n</script>","import { render } from \"./WhoToFollow.vue?vue&type=template&id=73071ea1\"\nimport script from \"./WhoToFollow.vue?vue&type=script&lang=js\"\nexport * from \"./WhoToFollow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DefaultRightBar.vue?vue&type=template&id=10a77f3a\"\nimport script from \"./DefaultRightBar.vue?vue&type=script&lang=js\"\nexport * from \"./DefaultRightBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- License generated by licensor(https://github.com/Marvin9/licensor).\n\nWarpnet - Decentralized Social Network\nCopyright (C) 2025 Vadim Filin, https://github.com/Warp-net,\n<github.com.mecdy@passmail.net>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nWarpNet is provided “as is” without warranty of any kind, either expressed or implied.\nUse at your own risk. The maintainers shall not be liable for any damages or data loss\nresulting from the use or misuse of this software.\n-->\n<template>\n  <div>\n    <i class=\"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed\"></i>\n    <input\n      class=\"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4\"\n      placeholder=\"Search Tweet\"\n      v-model=\"query\"\n      v-on:keyup.enter=\"submit()\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SearchBar\",\n  data() {\n    return {\n      query: \"Doesn't work for now\",\n    };\n  },\n  methods: {\n    submit() {\n      this.$router.push({\n        name: \"Search\",\n        query: { q: this.query },\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./SearchBar.vue?vue&type=template&id=31f599fc\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_SearchBar","_component_WhoToFollow","profile","$props","_createElementVNode","_Fragment","key","_renderList","$data","profiles","id","onClick","$event","$options","pushToProfilePage","src","getAvatar","avatar_key","alt","username","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","slice","isFollowing","follow","_hoisted_6","unfollow","_hoisted_7","_cache","loadMore","name","props","data","ownerProfile","undefined","profilesAvatars","Map","followingStatus","methods","profileId","this","$router","push","params","get","warpnetService","followUser","set","unfollowUser","userId","avatarKey","loadAvatar","img","getImage","users","getWhoToFollow","p","status","created","console","log","getOwnerProfile","__exports__","Object","components","SearchBar","WhoToFollow","render","placeholder","query","onKeyup","_withKeys","submit","q"],"sourceRoot":""}