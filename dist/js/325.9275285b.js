"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[325,520],{7520:function(o,e,t){t.r(e),t.d(e,{default:function(){return u}});var l=t(641),r=t(3751);function i(o,e,t,i,s,n){return(0,l.uX)(),(0,l.CE)("div",null,[e[2]||(e[2]=(0,l.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed"},null,-1)),(0,l.bo)((0,l.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":e[0]||(e[0]=o=>s.query=o),onKeyup:e[1]||(e[1]=(0,r.jR)((o=>n.submit()),["enter"]))},null,544),[[r.Jo,s.query]])])}t(4114);var s={name:"SearchBar",data(){return{query:"Doesn't work for now"}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},n=t(6262);const a=(0,n.A)(s,[["render",i]]);var u=a},8325:function(o,e,t){t.r(e),t.d(e,{default:function(){return C}});var l=t(641);const r={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function i(o,e,t,i,s,n){const a=(0,l.g2)("SearchBar"),u=(0,l.g2)("WhoToFollow");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(a),(0,l.bF)(u,{profile:t.profile},null,8,["profile"])])}var s=t(7520),n=t(33);const a={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],f={class:"hidden lg:block ml-4"},d=["onClick"],c={class:"text-left text-sm leading-tight text-dark"},h=["onClick"],p=["onClick"];function w(o,e,t,r,i,s){return(0,l.uX)(),(0,l.CE)("div",a,[e[1]||(e[1]=(0,l.Lk)("div",{class:"p-3"},[(0,l.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),t.profile?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(i.profiles,(o=>((0,l.uX)(),(0,l.CE)("div",{key:o.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,l.Lk)("img",{onClick:e=>s.pushToProfilePage(o.id),src:s.getAvatar(o.id,o.avatar_key)||"/default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:o.username},null,8,u),(0,l.Lk)("div",f,[(0,l.Lk)("p",{onClick:e=>s.pushToProfilePage(o.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,n.v_)(o.username),9,d),(0,l.Lk)("p",c,(0,n.v_)(o.id.slice(0,8))+"...",1)]),s.isFollowing(o.id)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:e=>s.follow(o.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)),s.isFollowing(o.id)?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:e=>s.unfollow(o.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Unfollow ",8,p)):(0,l.Q3)("",!0)])))),128)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:e[0]||(e[0]=o=>s.loadMore()),class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ")])}t(4114);var g=t(7362),b={name:"WhoToFollow",props:["profile"],data(){return{ownerProfile:void 0,profiles:[],profilesAvatars:new Map,followingStatus:new Map}},methods:{async pushToProfilePage(o){this.$router.push({name:"Profile",params:{id:o}})},isFollowing(o){return this.followingStatus.get(o)||!1},async follow(o){await g.nf.followUser(o),this.followingStatus.set(o,!0)},async unfollow(o){await g.nf.unfollowUser(o),this.followingStatus.set(o,!1)},getAvatar(o,e){return this.loadAvatar(o,e),this.profilesAvatars.get(o)},async loadAvatar(o,e){const t=await g.nf.getImage({userId:o,key:e});this.profilesAvatars.set(o,t)},async loadMore(){const o=await g.nf.getWhoToFollow(this.profile.id,!1);for(const e of o){const o=await g.nf.isFollowing(e.id);this.followingStatus.set(e.id,o)}this.profiles=[...this.profiles,...o]}},async created(){console.log("loading component:",this.$options.name),this.ownerProfile=g.nf.getOwnerProfile(),this.profile||(this.profile=this.ownerProfile),this.profiles=await g.nf.getWhoToFollow(this.profile.id,!0);for(const o of this.profiles){const e=await g.nf.isFollowing(o.id);this.followingStatus.set(o.id,e)}}},m=t(6262);const k=(0,m.A)(b,[["render",w]]);var v=k,y={name:"DefaultRightBar",props:{profile:Object},components:{SearchBar:s["default"],WhoToFollow:v}};const x=(0,m.A)(y,[["render",i]]);var C=x}}]);
//# sourceMappingURL=325.9275285b.js.map